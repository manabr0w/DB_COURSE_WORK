# Модель прецедентів

### Редагування опитування

| **ID**             | SurveyEditing                      |
|--------------------|------------------------------------|
| **Назва**          | Редагування опитування             |
| **Учасники**       | Адміністратор, Система             |
| **Передумови**     | Існуюче опитування, яке ще не завершено. |
| **Результат**      | Опитування відредаговане, зміни збережено. |
| **Виключні ситуації** | Опитування вже запущено або завершено, адміністратор не має прав на редагування. |
| **Основний сценарій** | 1. Адміністратор вибирає опитування для редагування. <br> 2. Вносить зміни до деталей або питань. <br> 3. Зберігає зміни. <br> 4. Система оновлює опитування. |

<center>

@startuml
|Адміністратор|
    start;

    :Вибирає опитування для редагування;

|Система|
    :Перевіряє, чи опитування доступне для редагування;
    note right #ffaaaa
        <b> Виникає
        <b> AccessDeniedError
        <b> SurveyAlreadyLaunchedError
    end note

|Адміністратор|
    :Вносить зміни до деталей або питань;
    :Зберігає зміни;

|Система|
    :Оновлює опитування;

|Адміністратор|
    stop;
@enduml


**Діаграма редагування опитування**

</center>

### Оцінка опитування

| **ID**             | SurveyReviewByExpertProcess        |
|--------------------|------------------------------------|
| **Назва**          | Оцінка опитування                  |
| **Учасники**       | Користувач (експерт), Система      |
| **Передумови**     | Користувач завершив опитування та авторизований. |
| **Результат**      | Відгук збережено та доступний адміністратору. |
| **Виключні ситуації** | Відгук не збережено через технічні проблеми, користувач не має прав залишити відгук. |
| **Основний сценарій** | 1. Користувач завершує опитування. <br> 2. Залишає відгук та оцінку. <br> 3. Система зберігає відгук. <br> 4. Адміністратор може переглядати відгуки. |

<center>

@startuml
|Користувач (Експерт)|
    start;

    :Завершує опитування;
    :Залишає відгук та оцінку;

|Система|
    :Зберігає відгук;
    note right #ffaaaa
        <b> Виникає
        <b> ReviewSaveError
        <b> TechnicalError
    end note

|Система|
    :Відгук доступний адміністратору для перегляду;

|Користувач (Експерт)|
    stop;
@enduml

**Діаграма оцінки опитування**

</center>

### Створення опитування

| **ID**             | SurveyCreation                     |
|--------------------|------------------------------------|
| **Назва**          | Створення опитування               |
| **Учасники**       | Адміністратор, Система             |
| **Передумови**     | Адміністратор авторизований на платформі та має права для створення опитування. |
| **Результат**      | Створене нове опитування з доданими питаннями. |
| **Виключні ситуації** | Недостатньо прав для створення опитування, відсутні необхідні дані (назва, опис тощо). |
| **Основний сценарій** | 1. Адміністратор входить на платформу. <br> 2. Вибирає опцію створення нового опитування. <br> 3. Вводить назву, опис та додає питання. <br> 4. Зберігає опитування. <br> 5. Опитування стає доступним для експертів. |

@startuml
|Адміністратор|
     start;
     
  :Входить в систему;
  :Обирає опцію\n"Створення опитування";
       
  |Система|
  :Перевіряє права користувача;
  note right #ffaaaa
     <b> Raises
     <b> AccessDeniedError
  end note
       
  |Адміністратор|
  :Заповнює заголовок, короткий опис;
  :Додає питання, що належать опитуваню;
  :Натискає кнопку\n"Зберегти";
       
|Система|
  :Перевіряє дані на валідність;
  note right #ffaaaa
     <b> Raises
     <b> ForbiddenSymbolsError
     <b> NotAllMandatoryFieldsFilledError
  end note

|Система|
    :Перевіряє, чи унікальне опитування;
    note right #ffaaaa
       <b> Raises
       <b> SurveyAlreadyExistsError
    end note
    :Створює нове опитування;
    
  |Адміністратор|
        stop;    
@enduml

**Діаграма створення опитування**

### Реєстреція експерта на платформі

| **ID**             | UserRegistration                   |
|--------------------|------------------------------------|
| **Назва**          | Реєстрація експерта на платформі   |
| **Учасники**       | Користувач (експерт), Система      |
| **Передумови**     | Користувач не має акаунту на платформі. |
| **Результат**      | Створено акаунт експерта з підтвердженою електронною адресою та спеціалізацією. |
| **Виключні ситуації** | Неправильна або вже зареєстрована електронна адреса, помилки у формі. |
| **Основний сценарій** | 1. Користувач заповнює реєстраційну форму. <br> 2. Підтверджує email через посилання. <br> 3. Отримує доступ до платформи. |

@startuml
|Користувач|
     start;
     
  :Натискає кнопку\n"Sign up" в головному\nменю;

  |Система|
  :Відкриває форму реєстрації;
  
  |Користувач|
  :Заповнює обовʼязкові поля;
  :Натискає кнопку\n"Sign up" на формі\nреєстрації;
       
  |Система|
  :Перевіряє дані на валідність;
  note right #ffaaaa
     <b> Raises
     <b> ForbiddenSymbolsError
     <b> NotAllMandatoryFieldsFilledError
  end note
  :Перевіряє обліковий запис\nна унікальність;
  note right #ffaaaa
     <b> Raises
     <b> AccountAlreadyExistsError
  end note
  :Надсилає email - підтвердження реєстрації;
       
  |Користувач|
  :Відкриває отриманий лист\nна електронній пошті;
  :Натискає кнопку\n"Submit email";

  |Система|
  :Отримує запит про\nпідтвердження email;
  :Маркує користувача, як підтвердженного;
    
  |Користувач|
  :Отримує доступ до платформи;

        stop;    
@enduml

**Діаграма реєстрація експерта на платформі**

